// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace PersonnelJop.Pages.ManageSystem
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using PersonnelJop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\_Imports.razor"
using PersonnelJop.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\Pages\ManageSystem\Salary.razor"
using DB;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Empsalaryy")]
    public partial class Salary : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 100 "F:\jop\mine\V3\PersonnelJop\PersonnelJop\Pages\ManageSystem\Salary.razor"
       
    private DateTime Attend { get; set; }
    private DateTime Leave { get; set; }
    private double   duration { get; set; }
    private double SalaryVal { get; set; }
    private int Disc { get; set; }
    private int IncentiveVal { get; set; }
    private int LoanVal { get; set; }
    private double val { get; set; }
    
    private string Nameselected { get; set; }
    private double DayCalc { get; set; }
    IEnumerable<Data> datas;
    IEnumerable<LoansData> Loansdatas;
    IEnumerable<IncentivesData> Incentivedat;
    IEnumerable<DiscountData> Discountdatt;
    IEnumerable<AttendingData> Attendingdatas;
    IEnumerable<LeavingData> Leavingdatas;

    protected override async Task OnInitializedAsync()
    {
        Loansdatas = await LoansDataService.GetDataLoan();

        Discountdatt = await DiscountDataService.GetDataDiscount();
        Incentivedat = await IncentiveDataService.GetDataIncentive();
        datas = await DataService.GetData();
        Attendingdatas = await AttendingDataService.GetAttendingData();
        Leavingdatas = await LeavingDataService.GetLeavingData();
    }
    protected void calc()
    {
        foreach(var item in datas)
        {
            if(item.empname == Nameselected)
            {
                SalaryVal = int.Parse(item.empsalary);
            }
        }
        foreach(var item in Loansdatas)
        {
            if(item.empname == Nameselected)
            {
                LoanVal += int.Parse(item.loansval);
            }
            else
            {
                LoanVal = 0;
            }
        }
        foreach(var item in Incentivedat)
        {
            if(item.empname == Nameselected)
            {
                IncentiveVal += int.Parse(item.incentivesval);
            }
            else
            {
                IncentiveVal = 0;
            }
        }
        foreach(var item in Discountdatt)
        {

            if(item.empname == Nameselected)
            {
                Disc +=  int.Parse(item.discountval);
            }
            else
            {
                Disc = 0;
            }
        }
        foreach (var item in Attendingdatas)
        {
            if (item.empname == Nameselected)
            {
                Attend = item.AttendsDate;
            }
        }
        foreach(var item in Leavingdatas)
        {
            if(item.empname == Nameselected)
            {
                Leave = item.LeavesDate;
            }
        }
        duration = Leave.Subtract(Attend).TotalMinutes;
        DayCalc = SalaryVal / 26 / 8 / 60 * duration;

        val = DayCalc;

        //val = SalaryVal + IncentiveVal - LoanVal - Disc; 









        
        
    }





#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ILeavingDataService LeavingDataService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IAttendingDataService AttendingDataService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IIncentivesDataService IncentiveDataService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IDiscountDataService DiscountDataService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IDataService DataService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private ILoansDataService LoansDataService { get; set; }
    }
}
#pragma warning restore 1591
